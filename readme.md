# CH5 λ©€ν‹°ν”λ μ΄ κ³Όμ 

### **ν•„μ κΈ°λ¥ *(1~5μΌμ°¨)***

1μΌμ°¨ **ν”„λ΅μ νΈ μƒμ„± λ° μ΄λ²¤νΈ λ³„ μ½”λ“ μ²λ¦¬**

- [O]  ν”„λ΅μ νΈ μ‹μ‘
- [O]  μ†μΌ“ μ΄λ²¤νΈ ν™•μΈ - TCP Echo μ„λ²„ λ§λ“¤κΈ°(1) - 3. μ„λ²„ κΈ°λ³Έ μ„Έν…μ (2), (3) μ°Έκ³ .
- [O]  κΈ°λ¥λ³„ ν΄λ”, νμΌ λ¶„λ¦¬
- [O]  ν—¤λ” λ° **ν¨ν‚· κµ¬μ΅° μ„¤κ³„**

2μΌμ°¨ **ν™κ²½λ³€μ λ° μƒμ, μ—λ¬ μ²λ¦¬**

- [O]  ν—¤λ” λ° **ν¨ν‚· κµ¬μ΅° μ„¤κ³„**
- [O]  μƒμ μ„ μ–Έ λ° ν™κ²½ λ³€μ μ„Έν…

3μΌμ°¨ **ν”„λ΅ν† μ½ λ²„νΌ μ μ© λ° ν¨ν‚· νμ‹±**

- [O]  ν”„λ΅ν† μ½ λ²„νΌ μ μ©
- [O]  ν¨ν‚· νμ‹± ν…μ¤νΈ

4μΌμ°¨ **μ μ € μ„Έμ… λ° κ²μ„ μ„Έμ… κ΄€λ¦¬**

- [O]  μ μ €, κ²μ„ ν΄λμ¤ μ„ μ–Έ
- [O]  μ ‘μ† μ‹ μƒμ„± μ΄λ²¤νΈ
- [O]  μ„Έμ… κ΄€λ¦¬ λ΅μ§ μ¶”κ°€

5μΌμ°¨ **μ ‘μ† λ° μ΄λ™ ν¨ν‚· κµν™**

- [O]  μ ‘μ† ν¨ν‚· μ¶”κ°€ λ° νμ‹± ν…μ¤νΈ
- [O]  ν΄λΌμ΄μ–ΈνΈ μ ‘μ† ν…μ¤νΈ
- [O]  μ΄λ™ ν¨ν‚· μ¶”κ°€ λ° νμ‹± ν…μ¤νΈ
- [O]  λ©€ν‹°ν”λ μ΄μ–΄ μ΄λ™ ν…μ¤νΈ

---

<aside>
π†

### **λ„μ „ κΈ°λ¥ *(6~10μΌμ°¨)***

6μΌμ°¨ **DB μ—°λ™**

- [ ]  DB μ„Έν… λ° (μ μ € μ •λ³΄) λ°μ΄ν„° λ¨λΈλ§
- [ ]  (μ„λ²„) μ ‘μ† λ° μ ‘μ† ν•΄μ  μ‹ μ μ € μ •λ³΄ κΈ°λ΅

7μΌμ°¨ **DB μ—°λ™**

- [ ]  (ν΄λΌμ΄μ–ΈνΈ) μ½”λ“ ν™•μΈ λ° μμ •

8μΌμ°¨ **λ μ΄ν„΄μ‹ λ§¤λ‹μ €, μ¶”μΈ΅ν•­λ²• μ μ© - μ„λ²„**

- [ ]  κ²μ„ μ„Έμ… λ³„ λ μ΄ν„΄μ‹ λ§¤λ‹μ € μ¶”κ°€
- [ ]  (μ„λ²„) μ¶”μΈ΅ν•­λ²• κ³„μ‚° λ° μ μ©

9μΌμ°¨ **ν•‘ μ²΄ν¬ - ν΄λΌμ΄μ–ΈνΈ**

- [ ]  (ν΄λΌμ΄μ–ΈνΈ) ping μ „μ†΅ λ΅μ§ μ¶”κ°€
- [ ]  (ν΄λΌ, μ„λ²„) ping ν…μ¤νΈ

10μΌμ°¨ **μµμΆ… ν™•μΈ λ° ν…μ¤νΈ**

- [ ]  ν…μ¤νΈ
</aside>

## ν¨ν‚· κµ¬μ΅°
### 1. common
|ν•„λ“λ…|νƒ€μ…|μ„¤λ…|
|:---:|:---:|:---:|
|handlerId|unit32|ν•Έλ“¤λ¬ ID(4λ°”μ΄νΈ)|
|userId|string|μ μ € ID(UUID)|
|version|string|ν΄λΌμ΄μ–ΈνΈ λ²„μ „(λ¬Έμμ—΄)|
|payload|bytes|μ‹¤μ  λ°μ΄ν„°|

### 2. InitialPayload
|ν•„λ“λ…|νƒ€μ…|
|:---:|:---:|
|deviceId|string|
|playerId|unit32|
|latency|float|

### 3. LocationUpdatePayload
|ν•„λ“λ…|νƒ€μ…|
|:---:|:---:|
|x|float|
|y|float|

### 4. LocationUpdate
|ν•„λ“λ…|νƒ€μ…|
|:---:|:---:|
|id|string|
|playerId|unit32|
|x|float|
|y|float|

### 5. Response
|ν•„λ“λ…|νƒ€μ…|μ„¤λ…|
|:---:|:---:|:---:|
|handlerId|unit32|ν•Έλ“¤λ¬ ID|
|responseCode|unit32|μ‘λ‹µ μ½”λ“(μ„±κ³µ : 0, μ‹¤ν¨ : μ—λ¬ μ½”λ“)|
|timestamp|long|λ©”μ‹μ§€ μƒμ„± νƒ€μ„μ¤νƒ¬ν”„|
|data|bytes|μ‹¤μ  μ‘λ‹µ λ°μ΄ν„°|
